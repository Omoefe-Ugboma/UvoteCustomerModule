<div class="container" *ngIf="customers">
    <div class="alert alert-light alert-dismissible fade show"
    *ngIf="customers.IsSubmitted == 0 && alert">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>{{customers.FirstName}} !</strong> has been submitted for approval.
    </div>
  </div>
  <div class="container" *ngIf="customers">
    <div class="alert alert-light alert-dismissible fade show"
    *ngIf="customers.IsSubmitted == 1 && alert">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>{{customers.FirstName}} !</strong> is now Approved.
    </div>
  </div>
  <div class="tab-pane" id="custinfo" role="tabpanel" aria-labelledby="custinfo-tab">
      <div>
        <div class="table-responsive">
          
          <table class="table table-bordered table-hover">
              <tbody *ngIf="customers">
                
                <div>
                  <h5>
                    <!-- <span *ngIf="!submitted">Click to submit <strong>{{customers.FirstName}}</strong> for approval</span>  -->
                    <span *ngIf="customers.IsSubmitted == 0">Click to approve 
                      <strong>{{customers.FirstName}} {{customers.LastName}}</strong>
                    </span> 
                  </h5>
                  <div class="card-body">
                       <div class="text-center">
                          <ng-container *ngIf="customers.IsSubmitted == 1; else elseNotDone">
                              <span class="btn btn-success btn-sm"
                              (click)="approvCustomer(customers.PersonMasterDraftID)">Click To Approve</span>
                              <!-- <span class="btn btn-danger btn-sm"
                              >Awaiting Aprroval Listing</span> -->
                            </ng-container>
                        
                            <ng-template #elseNotDone>
                              <span class="btn btn-success btn-sm" *ngIf="customers.IsSubmitted == 0"
                              (click)="submitApproval(customers.PersonMasterDraftID)"> Submit for Approval</span>
                            </ng-template>
                       </div>
                        
                     <mat-card> 
                      <mat-card-title>Review of Customer Informations for Approval </mat-card-title>
                      <mat-accordion>
                        <mat-expansion-panel>
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              Basic Information 
                            </mat-panel-title>
                            <mat-panel-description>
                              <!-- <mat-label>For Review</mat-label> -->
                            </mat-panel-description>
                          </mat-expansion-panel-header>
                          <!-- <p>This is the primary content of the panel.</p> -->
                          <table class="table">
                              <tbody>
                                <tr>
                                  <th>Full Name</th>
                                  <td>{{customers.Title}} {{customers.FirstName}} {{customers.MiddleName}} {{customers.LastName}}</td>
                                </tr>
                                <tr>
                                  <th>Country of Resident</th>
                                  <td>{{customers.CountryofOrigin}}</td>
                                </tr>
                                    
                                <tr>
                                  <th>State of Origin</th>
                                  <td>{{customers.StateofOrigin}}</td>
                                </tr>
                                    
                                <tr>
                                  <th>Date of Birth</th>
                                  <td>{{customers.DateofBirth}}</td>
                                </tr>
                                <tr>
                                  <th>Gender</th>
                                  <td>{{customers.Gender}}</td>
                                </tr>
                              </tbody>
                          </table>
                        </mat-expansion-panel>
                        
                        <mat-expansion-panel (opened)="panelOpenState = true"
                                            (closed)="panelOpenState = false">
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              Next of Kins
                            </mat-panel-title>
                            <mat-panel-description>
                             <!--  <mat-label>For Review</mat-label> {{panelOpenState ? 'open' : 'closed'}} -->
                            </mat-panel-description>
                          </mat-expansion-panel-header>
                          <!-- <p>I'm visible because I am open</p> -->
                          <table class="table">
                            <tbody>
                              <tr>
                                <th>First Name</th>
                                <td>{{customers.NOKFirstName}}</td>
                              </tr>
                              <tr>
                                <th>Last Name</th>
                                <td>{{customers.NOKLastName}}</td>
                              </tr>
                                  
                              <tr>
                                <th>Phone Number</th>
                                <td>{{customers.NOKPhoneNumber}}</td>
                              </tr>
                                  
                              <tr>
                                <th>Email Address</th>
                                <td>{{customers.NOKEmailAddress}}</td>
                              </tr>
                            </tbody>
                        </table>
                        </mat-expansion-panel>

                       
                        <mat-expansion-panel (opened)="panelOpenState = true"
                                            (closed)="panelOpenState = false">
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              Email Information 
                            </mat-panel-title>
                            <mat-panel-description>
                              <!--<mat-label>For Review</mat-label> Currently I am {{panelOpenState ? 'open' : 'closed'}} -->
                            </mat-panel-description>
                          </mat-expansion-panel-header>
                          <!-- <p>I'm visible because I am open 2</p> -->
                          <table class="table">
                            <tbody>
                              <tr>
                                <th>No.</th>
                                <th>Emails</th>
                              </tr>
                              <tr *ngFor="let custEmail of customers.EmailAddressJson; let i = index">
                                <td>{{1+i}}</td>
                                <td>{{custEmail.email}}</td>
                              </tr>
                              <tr>
                                <!-- <td>{{customers.EmailAddressJson}}</td> -->
                              </tr>
                            </tbody>
                          </table>
                        </mat-expansion-panel>


                        <mat-expansion-panel (opened)="panelOpenState = true"
                                            (closed)="panelOpenState = false">
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              Phone Contact
                            </mat-panel-title>
                            <mat-panel-description>
                              <!-- <mat-label>For Review</mat-label>   {{panelOpenState ? 'open' : 'closed'}} -->
                            </mat-panel-description>
                          </mat-expansion-panel-header>
                          <!-- <p>I'm visible because I am open 2</p> -->
                          <table class="table">
                            <tbody>
                              <tr>
                                <th>No.</th>
                                <th>Phone Numbers</th>
                              </tr>
                              <tr *ngFor="let custPhone of customers.PhoneNumberJson; let i = index">
                                <td>{{1+i}}</td>
                                <td>{{custPhone.phone}}</td>
                              </tr>
                            </tbody>
                          </table>
                        </mat-expansion-panel>

                        <mat-expansion-panel (opened)="panelOpenState = true"
                                            (closed)="panelOpenState = false">
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              Banks Information
                            </mat-panel-title>
                            <mat-panel-description>
                              <!--<mat-label>For Review</mat-label>  {{panelOpenState ? 'open' : 'closed'}} -->
                            </mat-panel-description>
                          </mat-expansion-panel-header>
                          <!-- <p>I'm visible because I am open 2</p> -->
                           <table class="table">
                             <tbody>
                              <tr>
                                <th>No.</th>
                                <th>Bankk Name</th>
                                <th>Account Name</th>
                                <th>Account Number</th>
                              </tr>
              
                              <tr *ngFor="let custBank of customers.BankDetailJson; let i = index">
                                <td>{{1+i}}</td>
                                <td>{{custBank.bank_name}}</td>
                                <td>{{custBank.account_name}}</td>
                                <td>{{custBank.account_number}}</td>
                              </tr>
                             </tbody>
                           </table>
                        </mat-expansion-panel>

                        <mat-expansion-panel (opened)="panelOpenState = true"
                                            (closed)="panelOpenState = false">
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              Contact Address
                            </mat-panel-title>
                            <mat-panel-description>
                              <!--<mat-label>For Review</mat-label> {{panelOpenState ? 'open' : 'closed'}} -->
                            </mat-panel-description>
                          </mat-expansion-panel-header>
                          <!-- <p>I'm visible because I am open 2</p> -->
                          <table class="table">
                            <tbody>
                              <tr>
                                <th>No.</th>       
                                <th>Address</th>       
                              </tr>
                              <tr *ngFor="let custAddress of customers.ContactAddressJson; let i = index">
                                <td> {{1+i}}</td>
                                <td>{{custAddress.address1}}</td>
                              </tr>
                            </tbody>
                          </table>
                        </mat-expansion-panel>

                        <mat-expansion-panel (opened)="panelOpenState = true"
                                            (closed)="panelOpenState = false">
                          <mat-expansion-panel-header>
                            <mat-panel-title>
                              KYC Documents
                            </mat-panel-title>
                            <mat-panel-description>
                              <!--<mat-label>For Review</mat-label>{{panelOpenState ? 'open' : 'closed'}} -->
                            </mat-panel-description>
                          </mat-expansion-panel-header>
                          <!-- <p>I'm visible because I am open 2</p> -->
                          <div class="container">
                            <div class="row" *ngIf="customers">
                              <div class="col">
                                <mat-card class="example-card">
                                  <mat-card-header>
                                    <mat-card-title>Shiba Inu</mat-card-title>
                                  </mat-card-header>
                                  <!-- [src]="customers.activeLink.IdentificationProof" -->
                                  <img mat-card-image [src]="customers.activeLink" alt="Photo of a Shiba Inu">      
                                </mat-card>
                              </div>
                              <div class="col">
                                <mat-card class="example-card">
                                  <mat-card-header>
                                    <mat-card-title>Shiba Inu</mat-card-title>
                                  </mat-card-header>
                                  <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">      
                                </mat-card>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col">
                                <mat-card class="example-card">
                                  <mat-card-header>
                                    <mat-card-title>Shiba Inu</mat-card-title>
                                  </mat-card-header>
                                  <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">      
                                </mat-card>
                              </div>
                              <div class="col">
                                <mat-card class="example-card">
                                  <mat-card-header>
                                    <mat-card-title>Shiba Inu</mat-card-title>
                                  </mat-card-header>
                                  <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">      
                                </mat-card>
                              </div>
                               
                            </div>
                          </div>

                        </mat-expansion-panel>


                      </mat-accordion>

                      
                    </mat-card>
                    <!-- <tr> -->
                        <!-- <th>Nationality</th>
                        <th>State of Origin</th> -->
                        <!-- <th>Gender</th> -->
                        <!-- <th>Country of Origin</th> -->
                        <!-- <th class="text-center" colspan="3">Approved</th>   
                    </tr> -->
                    <!-- <tr> -->
                      <!-- <td>{{customers.Nationality}}</td>
                      <td>{{customers.StateofOrigin}}</td> -->
                      <!-- <td>{{customers.Gender}}</td> -->
                      <!-- <td>{{customers.CountryofOrigin}}</td> -->
                      <!-- <td class="text-center"  colspan="3">
                        <ng-container *ngIf="customers.IsSubmitted == 0; else elseNotDone">
                          <span class="btn btn-danger btn-sm">Submit for approval</span>
                        </ng-container>
                    
                        <ng-template #elseNotDone>
                          <span class="btn btn-success btn-sm"> approve customer</span>
                        </ng-template> -->
                      <!-- </td> -->
                    <!-- </tr> -->
  
                  </div>
                </div>
              </tbody>
          </table>
        </div>      
        
  
        <div id="accordionparent" *ngIf="!customers">
          <div class="card lobicard lobicard-sortable" data-sortable="true">
            <div class="card-header lobicard-custom-control ui-sortable-handle">
              <div class="card-title custom_title" class="nav-item" class="text-center m-3">
                <h4>
                  <!-- <span class="btn btn-outline-info"> -->
                    <!-- <a class="nav-link" id="createdraft-tab" data-toggle="tab" href="#createdraft" role="tab"
                  aria-controls="createdraft" aria-selected="false"> -->
                  Choose a customer to Approve 
                 <!-- </a> -->
                <!-- </span> -->
                </h4>
               
              </div>
              
  
            </div>
             <div id="collapsetwo" class="collapse" aria-labelledby="headingThree" data-parent="#accordionparent"> 
             
            </div> 
          </div> 
         
        </div>
      </div>
    
  </div>
  